module @ZKLean attributes {llzk.lang = "llzk"} {
    ZKLeanLean.structure @IsZero {
        ZKLeanLean.member @out : !ZKExpr.zkexpr
        ZKLeanLean.member @inv : !ZKExpr.zkexpr
    }
    func.func @IsZero__constrain(%arg0: !ZKLeanLean.type<@IsZero>, %arg1: !felt.type) {
        %felt_const_0 = felt.const  0
        %0 = ZKExpr.Literal %felt_const_0
        %felt_const_1 = felt.const  1
        %1 = ZKExpr.Literal %felt_const_1
        %2 = ZKLeanLean.accessor %arg0[@out] : <@IsZero>, !ZKExpr.zkexpr
        %3 = ZKLeanLean.accessor %arg0[@inv] : <@IsZero>, !ZKExpr.zkexpr
        %4 = ZKExpr.Literal %arg1
        %5 = ZKExpr.Neg %4
        %6 = ZKExpr.Mul %5 %3
        %7 = ZKExpr.Add %6 %1
        %8 = ZKBuilder.ConstrainEq %2 %7
        %9 = ZKExpr.Mul %4 %2
        %10 = ZKBuilder.ConstrainEq %9 %0
        return
    }
}
