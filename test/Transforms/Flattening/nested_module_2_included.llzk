// RUN: llzk-opt -I %input_dir -llzk-inline-includes -llzk-flatten %s | FileCheck --enable-var-scope %s

module attributes {llzk.main = !struct.type<@Main<[]>>, llzk.lang} {
  include.from "Inputs/bar.llzk" as @Bar

  struct.def @Main<[]> {
    struct.member @foo : !struct.type<@Bar::@Foo<[1]>>
    function.def @compute() -> !struct.type<@Main<[]>> attributes {function.allow_witness} {
      %self = struct.new : <@Main<[]>>
      function.return %self : !struct.type<@Main<[]>>
    }
    function.def @constrain(%arg0: !struct.type<@Main<[]>>) attributes {function.allow_constraint} {
      function.return
    }
  }
}

// CHECK-LABEL: struct.def @Foo_1 {
// CHECK-LABEL: struct.def @Main {
