// RUN: llzk-opt -split-input-file %s 2>&1 | FileCheck --enable-var-scope %s

function.def @read_pod(%pod: !pod.type<[@n: index]>) ->  index {
  %r = pod.read %pod[@n] : !pod.type<[@n: index]>, index
  function.return %r: index
}
//CHECK-LABEL:  function.def @read_pod(
//CHECK-SAME:       %[[POD:[0-9a-zA-Z_\.]+]]: !pod.type<[@n: index]>) ->  index {
//CHECK-NEXT:     %[[T1:[0-9a-zA-Z_\.]+]] = pod.read %[[POD]][@n] : <[@n: index]>, index
//CHECK-NEXT:     function.return %[[T1]] : index
//CHECK-NEXT:   }

// -----

function.def @read_pod2(%pod: !pod.type<[@n: index, @y: index]>) ->  index {
  %r = pod.read %pod[@n] : !pod.type<[@n: index, @y: index]>, index
  function.return %r: index
}
//CHECK-LABEL:  function.def @read_pod2(
//CHECK-SAME:       %[[POD:[0-9a-zA-Z_\.]+]]: !pod.type<[@n: index, @y: index]>) ->  index {
//CHECK-NEXT:     %[[T1:[0-9a-zA-Z_\.]+]] = pod.read %[[POD]][@n] : <[@n: index, @y: index]>, index
//CHECK-NEXT:     function.return %[[T1]] : index
//CHECK-NEXT:   }
